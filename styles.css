:root{--bg:#f6f8fb;--card:#ffffff;--accent:#61dafb;--text:#12202b;--border:#d0d8de;--bg-secondary:#f9fbfc}
:root.dark-mode{--bg:#1a1a1a;--card:#2d2d2d;--accent:#61dafb;--text:#e0e0e0;--border:#404040;--bg-secondary:#242424}
*{box-sizing:border-box}
body{font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);margin:0;transition:background 0.3s ease,color 0.3s ease}
.container{max-width:980px;margin:0 auto;padding:28px}
.site-header{background:linear-gradient(180deg,#bfefff,#8fdfff);color:#052032;padding:14px 0}
.dark-mode .site-header{background:linear-gradient(180deg,#1a3a3a,#0d2626);color:#e0e0e0}
.header-top{display:flex;align-items:flex-start;gap:16px;justify-content:space-between}
.header-logo{height:60px;width:auto}
.site-header h1{color: #023a4a; margin:0 0 4px;font-size:1.3rem}
.dark-mode .site-header h1{color:#e0e0e0}
.lead{opacity:.9;margin:0;font-size:0.95rem}
/* Dark mode toggle button */
.dark-mode-toggle{background:transparent;border:1px solid rgba(255,255,255,0.3);color:#fff;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:1.2rem;transition:background 0.3s ease}
.dark-mode-toggle:hover{background:rgba(255,255,255,0.1)}
.dark-mode .dark-mode-toggle{border-color:rgba(0,0,0,0.2);color:#333}
.hero-image{text-align:center;padding:20px 0;background:var(--bg)}
.hero-img{max-width:100%;height:auto;max-height:250px;border-radius:8px;box-shadow:0 4px 12px rgba(12,24,36,0.1);width:20%}
.toc ol{list-style:decimal;margin:18px 0;padding-left:24px}
.toc a{color:#d32f2f;text-decoration:none;font-weight:600}
.toc a:hover{text-decoration:underline}
.page{background:var(--card);padding:20px;border-radius:8px;box-shadow:0 6px 18px rgba(12,24,36,0.06)}
.page h2{margin-top:0}
.page-header-image{width:100%;height:auto;border-radius:8px;margin-bottom:16px;display:block}
.nav-links{display:flex;gap:12px;margin-top:18px}
.nav-links a{background:#e9eef3;padding:8px 12px;border-radius:6px;color:#123}
pre{background:#0b1220;color:#e6f1f8;padding:12px;border-radius:6px;overflow:auto}
.site-footer{padding:28px 0;text-align:center;color:#5b6b75}
.mark{background:yellow}
@media(max-width:600px){.container{padding:16px}.site-header h1{font-size:1.2rem}}

/* SIDEBAR LAYOUT */
.site-layout{display:block}
.sidebar{background:var(--card);border-right:1px solid rgba(12,24,36,0.04);padding:20px 18px;box-shadow:0 6px 18px rgba(12,24,36,0.04);transition:transform 0.3s ease,width 0.3s ease;}
.sidebar h2{margin:0 0 10px;font-size:1.1rem;color:var(--text)}
.sidebar nav ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.sidebar nav a{display:block;padding:8px 10px;border-radius:6px;color:var(--text);text-decoration:none;font-weight:600}
.sidebar nav a:hover{background:#eef6f8}
.sidebar .sidebar-footer{margin-top:12px;font-size:0.85rem;color:#6b7b82}

/* Desktop: show as two-column layout with collapsible sidebar */
@media(min-width:900px){
	.site-layout{display:flex;align-items:flex-start;gap:0}
	.sidebar{width:240px;position:sticky;top:0;height:100vh;overflow:auto;transform:translateX(0)}
	.sidebar.sidebar--collapsed{width:0;overflow:hidden}
	.main-content{flex:1;padding-left:24px}
	.main-content.sidebar--collapsed~.sidebar,.sidebar.sidebar--collapsed{width:0;padding:0;border:none}
	.sidebar-toggle{position:absolute;left:0;top:0;background:#d32f2f;border:0;color:#fff;z-index:90;padding:8px;border-radius:0 6px 6px 0;box-shadow:0 2px 8px rgba(0,0,0,0.12);display:block;margin:0;font-size:1.2rem}
	/* Keep container centered inside main-content */
	.main-content .container{margin:0 auto}
}

/* Mobile: compact sidebar toggle */
@media(max-width:899px){
	.sidebar{display:none}
	.sidebar--open{display:block;position:fixed;z-index:80;left:0;top:0;bottom:0;width:80%;max-width:320px;padding:20px;background:var(--card);box-shadow:2px 0 18px rgba(0,0,0,0.25);overflow:auto}
	.sidebar-toggle{position:fixed;left:12px;top:12px;background:#d32f2f;border:0;color:#fff;z-index:90;padding:8px;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,0.12);display:block;font-size:1.2rem}
	.sidebar-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.35);z-index:75}
}

/* small accessibility tweaks */
.sidebar nav a[aria-current="page"]{background:#dff7fb}

/* COMMENTS SECTION */
.comments-section{background:var(--card);padding:20px;border-radius:8px;margin-top:24px;box-shadow:0 6px 18px rgba(12,24,36,0.06)}
.comments-section h2{margin-top:0;color:var(--text);border-bottom:2px solid var(--accent);padding-bottom:10px}
.comments-form{margin-bottom:24px;background:#f9fbfc;padding:16px;border-radius:6px}
.form-group{margin-bottom:16px;display:flex;flex-direction:column}
.form-group label{font-weight:600;margin-bottom:6px;color:var(--text)}
.form-group input,.form-group textarea{padding:10px;border:1px solid #d0d8de;border-radius:4px;font-family:inherit;font-size:0.95rem}
.form-group input:focus,.form-group textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(97,218,251,0.1)}
.form-group textarea{resize:vertical}
.btn-submit{background:var(--accent);color:#052032;border:none;padding:10px 16px;border-radius:4px;font-weight:600;cursor:pointer;transition:background 0.3s ease}
.btn-submit:hover{background:#4db8d8}
.comments-list{display:flex;flex-direction:column;gap:12px}
.comment{background:#f9fbfc;padding:16px;border-radius:6px;border-left:4px solid var(--accent)}
.comment-author{margin:0 0 8px;font-size:0.95rem}
.comment-text{margin:0;color:#5b6b75;line-height:1.5}
/* RATING WIDGET */
.rating-widget{margin-top:18px;background:#ffffff;padding:14px;border-radius:8px;border:1px solid rgba(12,24,36,0.04)}
.rating-widget h3{margin:0 0 8px;color:var(--text)}
.rating-controls{display:flex;align-items:center;gap:16px;flex-wrap:wrap}
.rating-stars{display:flex;gap:6px}
.rating-stars .star{background:transparent;border:0;font-size:1.6rem;line-height:1;color:#d6d9dc;cursor:pointer;padding:6px;border-radius:6px;transition:transform .12s ease,color .12s ease}
.rating-stars .star:hover{transform:translateY(-3px)}
.rating-stars .star.selected{color:var(--accent);text-shadow:0 2px 6px rgba(97,218,251,0.18)}
.rating-stars .star.locked{cursor:default;opacity:0.85}
.rating-actions{display:flex;align-items:center;gap:12px}
.rating-summary{font-weight:600;color:var(--text)}
.rating-note{margin-top:8px;color:#6b7b82;font-size:0.9rem}

@media(max-width:600px){.rating-controls{flex-direction:column;align-items:flex-start}.rating-actions{width:100%;display:flex;justify-content:space-between}}

/* COMMENT ACTIONS (delete) */
.comment-actions{margin-top:10px;display:flex;gap:8px}
.btn-delete{background:transparent;border:1px solid #e1a7a7;color:#a33;padding:6px 10px;border-radius:6px;cursor:pointer;font-weight:600}
.btn-delete:hover{background:#ffecec}
.btn-delete:active{transform:translateY(1px)}

/* Comment stars inside form and comment items */
.comment-rating-stars,.comment-rating-display{display:flex;gap:6px;align-items:center}
.comment-rating-stars .star,.comment-rating-display .star{background:transparent;border:0;font-size:1.2rem;line-height:1;color:#d6d9dc;cursor:pointer;padding:4px;border-radius:6px;transition:transform .12s ease,color .12s ease}
.comment-rating-display .star{cursor:default}
.comment-rating-stars .star:hover{transform:translateY(-3px)}
.comment-rating-stars .star.selected,.comment-rating-display .star.selected{color:var(--accent);text-shadow:0 2px 6px rgba(97,218,251,0.12)}

/* Filter controls */
.comments-filter{display:flex;align-items:center;gap:12px}
.comments-filter label{font-weight:600;color:var(--text)}
.filter-select{padding:8px 12px;border:1px solid var(--border);border-radius:6px;background:var(--card);color:var(--text);cursor:pointer;font-size:0.95rem}
.filter-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(97,218,251,0.1)}

/* Reply nesting */
.comments-list .comment-wrapper{margin-bottom:12px}
.replies{margin-left:20px;margin-top:8px;border-left:2px solid var(--accent);padding-left:12px}
.comment.reply{background:var(--bg-secondary);padding:12px;border-left:2px solid var(--accent)}
.comment.reply .comment-author{font-size:0.9rem}/* Edit controls */
.btn-edit{background:transparent;border:1px solid #bcd8f0;color:#045a6b;padding:6px 10px;border-radius:6px;cursor:pointer;font-weight:600}
.btn-edit:hover{background:#eef9ff}
.btn-save{background:#2e7d32;border:0;color:#fff;padding:6px 10px;border-radius:6px;cursor:pointer;font-weight:600}
.btn-cancel{background:transparent;border:1px solid #cfcfcf;color:#333;padding:6px 10px;border-radius:6px;cursor:pointer;font-weight:600}
.btn-save:disabled{opacity:0.6;cursor:default}